# Go API client for emma

**Base URL:** *<u>https://api.emma.ms/external</u>*

This **Infrastructure API** is for managing the cloud infrastructure within a project.

To access the API, enter your project, navigate to **Settings** > **Service Apps**, and create a service application. Select the access level **Read**, **Operate**, or **Manage**.

After creating the service application, copy the **Client ID** and **Client Secret**. Send an API request to the endpoint **_/issue-token** as specified in the **Authentication** section of the API documentation. You will receive access and refresh tokens in the response.

The Bearer access token is a text string, included in the request header, example:

*-H Authorization: Bearer {token}*

Use this token for API requests. The access token will expire in 10 minutes. A new access token may be created using the refresh token (without Client ID and Client Secret).


## Overview
This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [OpenAPI-spec](https://www.openapis.org/) from a remote server, you can easily generate an API client.

- API version: 0.0.1
- Package version: 0.0.1
- Generator version: 7.5.0
- Build package: org.openapitools.codegen.languages.GoClientCodegen

## Installation

Install the following dependencies:

```sh
go get github.com/stretchr/testify/assert
go get golang.org/x/net/context
```

Put the package under your project folder and add the following in import:

```go
import emma "github.com/emma-community/emma-go-sdk"
```

To use a proxy, set the environment variable `HTTP_PROXY`:

```go
os.Setenv("HTTP_PROXY", "http://proxy_name:proxy_port")
```

## Configuration of Server URL

Default configuration comes with `Servers` field that contains server objects as defined in the OpenAPI specification.

### Select Server Configuration

For using other server than the one defined on index 0 set context value `emma.ContextServerIndex` of type `int`.

```go
ctx := context.WithValue(context.Background(), emma.ContextServerIndex, 1)
```

### Templated Server URL

Templated server URL is formatted using default variables from configuration or from context value `emma.ContextServerVariables` of type `map[string]string`.

```go
ctx := context.WithValue(context.Background(), emma.ContextServerVariables, map[string]string{
	"basePath": "v2",
})
```

Note, enum values are always validated and all unused variables are silently ignored.

### URLs Configuration per Operation

Each operation can use different server URL defined using `OperationServers` map in the `Configuration`.
An operation is uniquely identified by `"{classname}Service.{nickname}"` string.
Similar rules for overriding default operation server index and variables applies by using `emma.ContextOperationServerIndices` and `emma.ContextOperationServerVariables` context maps.

```go
ctx := context.WithValue(context.Background(), emma.ContextOperationServerIndices, map[string]int{
	"{classname}Service.{nickname}": 2,
})
ctx = context.WithValue(context.Background(), emma.ContextOperationServerVariables, map[string]map[string]string{
	"{classname}Service.{nickname}": {
		"port": "8443",
	},
})
```

## Documentation for API Endpoints

All URIs are relative to *https://api.emma.ms/external*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AuthenticationAPI* | [**IssueToken**](docs/AuthenticationAPI.md#issuetoken) | **Post** /v1/issue-token | Issue token
*AuthenticationAPI* | [**RefreshToken**](docs/AuthenticationAPI.md#refreshtoken) | **Post** /v1/refresh-token | Refresh token
*ComputeInstancesConfigurationsAPI* | [**GetSpotConfigs**](docs/ComputeInstancesConfigurationsAPI.md#getspotconfigs) | **Get** /v1/spots-configs | Search available configurations for spot instance creation
*ComputeInstancesConfigurationsAPI* | [**GetVmConfigs**](docs/ComputeInstancesConfigurationsAPI.md#getvmconfigs) | **Get** /v1/vms-configs | Search available configurations for virtual machine creation
*DataCentersAPI* | [**GetDataCenter**](docs/DataCentersAPI.md#getdatacenter) | **Get** /v1/data-centers/{dataCenterId} | Get data center by ID
*DataCentersAPI* | [**GetDataCenters**](docs/DataCentersAPI.md#getdatacenters) | **Get** /v1/data-centers | Get list of data centers
*LocationsAPI* | [**GetLocation**](docs/LocationsAPI.md#getlocation) | **Get** /v1/locations/{locationId} | Get location by ID
*LocationsAPI* | [**GetLocations**](docs/LocationsAPI.md#getlocations) | **Get** /v1/locations | Get list of locations
*OperatingSystemsAPI* | [**GetOperatingSystem**](docs/OperatingSystemsAPI.md#getoperatingsystem) | **Get** /v1/operating-systems/{operatingSystemId} | Get operating system by ID
*OperatingSystemsAPI* | [**GetOperatingSystems**](docs/OperatingSystemsAPI.md#getoperatingsystems) | **Get** /v1/operating-systems | Get list of operating systems
*ProvidersAPI* | [**GetProvider**](docs/ProvidersAPI.md#getprovider) | **Get** /v1/providers/{providerId} | Get cloud provider by ID
*ProvidersAPI* | [**GetProviders**](docs/ProvidersAPI.md#getproviders) | **Get** /v1/providers | Get list of cloud providers
*SSHKeysAPI* | [**GetSshKey**](docs/SSHKeysAPI.md#getsshkey) | **Get** /v1/ssh-keys/{sshKeyId} | Get SSH key by id
*SSHKeysAPI* | [**SshKeyDelete**](docs/SSHKeysAPI.md#sshkeydelete) | **Delete** /v1/ssh-keys/{sshKeyId} | Delete SSH keys
*SSHKeysAPI* | [**SshKeyUpdate**](docs/SSHKeysAPI.md#sshkeyupdate) | **Put** /v1/ssh-keys/{sshKeyId} | Update SSH keys
*SSHKeysAPI* | [**SshKeys**](docs/SSHKeysAPI.md#sshkeys) | **Get** /v1/ssh-keys | Get list of SSH keys
*SSHKeysAPI* | [**SshKeysCreateImport**](docs/SSHKeysAPI.md#sshkeyscreateimport) | **Post** /v1/ssh-keys | Create or import SSH key
*SecurityGroupsAPI* | [**GetSecurityGroup**](docs/SecurityGroupsAPI.md#getsecuritygroup) | **Get** /v1/security-groups/{securityGroupId} | Get security group by ID
*SecurityGroupsAPI* | [**GetSecurityGroups**](docs/SecurityGroupsAPI.md#getsecuritygroups) | **Get** /v1/security-groups | Get list of security groups
*SecurityGroupsAPI* | [**SecurityGroupCreate**](docs/SecurityGroupsAPI.md#securitygroupcreate) | **Post** /v1/security-groups | Create security group
*SecurityGroupsAPI* | [**SecurityGroupDelete**](docs/SecurityGroupsAPI.md#securitygroupdelete) | **Delete** /v1/security-groups/{securityGroupId} | Delete security group
*SecurityGroupsAPI* | [**SecurityGroupInstanceAdd**](docs/SecurityGroupsAPI.md#securitygroupinstanceadd) | **Post** /v1/security-groups/{securityGroupId}/instances | Add instance to security group
*SecurityGroupsAPI* | [**SecurityGroupInstances**](docs/SecurityGroupsAPI.md#securitygroupinstances) | **Get** /v1/security-groups/{securityGroupId}/instances | Get instances in security group
*SecurityGroupsAPI* | [**SecurityGroupUpdate**](docs/SecurityGroupsAPI.md#securitygroupupdate) | **Put** /v1/security-groups/{securityGroupId} | Update security group
*SpotInstancesAPI* | [**GetSpot**](docs/SpotInstancesAPI.md#getspot) | **Get** /v1/spot-instances/{spotInstanceId} | Get spot instance by id
*SpotInstancesAPI* | [**GetSpots**](docs/SpotInstancesAPI.md#getspots) | **Get** /v1/spot-instances | Get list of spot instances
*SpotInstancesAPI* | [**SpotActions**](docs/SpotInstancesAPI.md#spotactions) | **Post** /v1/spot-instances/{spotInstanceId}/actions | Perform actions with a spot instance
*SpotInstancesAPI* | [**SpotCreate**](docs/SpotInstancesAPI.md#spotcreate) | **Post** /v1/spot-instances | Create spot instance
*SpotInstancesAPI* | [**SpotDelete**](docs/SpotInstancesAPI.md#spotdelete) | **Delete** /v1/spot-instances/{spotInstanceId} | Delete spot instance
*VirtualMachinesAPI* | [**GetVm**](docs/VirtualMachinesAPI.md#getvm) | **Get** /v1/vms/{vmId} | Get virtual machine by id
*VirtualMachinesAPI* | [**GetVms**](docs/VirtualMachinesAPI.md#getvms) | **Get** /v1/vms | Get list of virtual machines
*VirtualMachinesAPI* | [**VmActions**](docs/VirtualMachinesAPI.md#vmactions) | **Post** /v1/vms/{vmId}/actions | Perform actions with a virtual machine
*VirtualMachinesAPI* | [**VmCreate**](docs/VirtualMachinesAPI.md#vmcreate) | **Post** /v1/vms | Create virtual machine
*VirtualMachinesAPI* | [**VmDelete**](docs/VirtualMachinesAPI.md#vmdelete) | **Delete** /v1/vms/{vmId} | Delete virtual machine


## Documentation For Models

 - [BadRequestError](docs/BadRequestError.md)
 - [ConflictError](docs/ConflictError.md)
 - [Credentials](docs/Credentials.md)
 - [DataCenter](docs/DataCenter.md)
 - [ForbiddenError](docs/ForbiddenError.md)
 - [GetVmConfigs200Response](docs/GetVmConfigs200Response.md)
 - [Location](docs/Location.md)
 - [NotFoundError](docs/NotFoundError.md)
 - [OperatingSystem](docs/OperatingSystem.md)
 - [PageableObject](docs/PageableObject.md)
 - [PaginatedResult](docs/PaginatedResult.md)
 - [Provider](docs/Provider.md)
 - [RefreshToken](docs/RefreshToken.md)
 - [SecurityGroup](docs/SecurityGroup.md)
 - [SecurityGroupInstance](docs/SecurityGroupInstance.md)
 - [SecurityGroupInstanceAdd](docs/SecurityGroupInstanceAdd.md)
 - [SecurityGroupInstanceCost](docs/SecurityGroupInstanceCost.md)
 - [SecurityGroupInstanceDataCenter](docs/SecurityGroupInstanceDataCenter.md)
 - [SecurityGroupInstanceDisksInner](docs/SecurityGroupInstanceDisksInner.md)
 - [SecurityGroupInstanceLocation](docs/SecurityGroupInstanceLocation.md)
 - [SecurityGroupInstanceNetworksInner](docs/SecurityGroupInstanceNetworksInner.md)
 - [SecurityGroupInstanceOs](docs/SecurityGroupInstanceOs.md)
 - [SecurityGroupInstanceProvider](docs/SecurityGroupInstanceProvider.md)
 - [SecurityGroupInstanceSecurityGroup](docs/SecurityGroupInstanceSecurityGroup.md)
 - [SecurityGroupRequest](docs/SecurityGroupRequest.md)
 - [SecurityGroupRule](docs/SecurityGroupRule.md)
 - [SecurityGroupRuleRequest](docs/SecurityGroupRuleRequest.md)
 - [SortObject](docs/SortObject.md)
 - [SpotActionsRequest](docs/SpotActionsRequest.md)
 - [SpotCreate](docs/SpotCreate.md)
 - [SpotReboot](docs/SpotReboot.md)
 - [SshKey](docs/SshKey.md)
 - [SshKeyCreate](docs/SshKeyCreate.md)
 - [SshKeyGenerated](docs/SshKeyGenerated.md)
 - [SshKeyImport](docs/SshKeyImport.md)
 - [SshKeyUpdate](docs/SshKeyUpdate.md)
 - [SshKeysCreateImport201Response](docs/SshKeysCreateImport201Response.md)
 - [SshKeysCreateImportRequest](docs/SshKeysCreateImportRequest.md)
 - [Token](docs/Token.md)
 - [UnauthorizedError](docs/UnauthorizedError.md)
 - [UnprocessableEntityError](docs/UnprocessableEntityError.md)
 - [Vm](docs/Vm.md)
 - [VmActionsRequest](docs/VmActionsRequest.md)
 - [VmClone](docs/VmClone.md)
 - [VmConfiguration](docs/VmConfiguration.md)
 - [VmConfigurationCost](docs/VmConfigurationCost.md)
 - [VmCreate](docs/VmCreate.md)
 - [VmDataCenter](docs/VmDataCenter.md)
 - [VmEditHardware](docs/VmEditHardware.md)
 - [VmReboot](docs/VmReboot.md)
 - [VmShutdown](docs/VmShutdown.md)
 - [VmStart](docs/VmStart.md)
 - [VmTransfer](docs/VmTransfer.md)


## Documentation For Authorization


Authentication schemes defined for the API:
### bearerAuth

- **Type**: HTTP Bearer token authentication

Example

```go
auth := context.WithValue(context.Background(), emma.ContextAccessToken, "BEARER_TOKEN_STRING")
r, err := client.Service.Operation(auth, args)
```


## Documentation for Utility Methods

Due to the fact that model structure members are all pointers, this package contains
a number of utility functions to easily obtain pointers to values of basic types.
Each of these functions takes a value of the given basic type and returns a pointer to it:

* `PtrBool`
* `PtrInt`
* `PtrInt32`
* `PtrInt64`
* `PtrFloat`
* `PtrFloat32`
* `PtrFloat64`
* `PtrString`
* `PtrTime`

## Author



